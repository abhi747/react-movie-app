(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{31:function(e,t,a){e.exports=a(50)},36:function(e,t,a){},50:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(16),i=a.n(r),l=(a(36),a(30)),s=a(10),c=a(11),m=a(13),v=a(12),u=a(14),p=a(17),f=a(15),d="https://www.omdbapi.com/?apikey=8365711f";var h=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(o)))).state={search:"",movieDetails:{}},a.handleChange=function(e){a.setState({search:e.target.value})},a.handleSubmit=function(e){var t;e.preventDefault(),(t=a.state.search,fetch("".concat(d,"&t=").concat(t))).then(function(e){return e.json()}).then(function(e){"False"===e.Response?a.props.setMovieDetails({}):a.props.setMovieDetails(e)}).catch(function(e){a.props.setMovieDetails({})}),a.setState({search:""})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement("div",{className:"input-group col-md-5 mt-3 mb-4 mx-auto"},o.a.createElement("input",{type:"text",className:"form-control",placeholder:"Search Movies",value:this.state.search,onChange:this.handleChange}),o.a.createElement("div",{className:"input-group-append"},o.a.createElement("button",{className:"btn btn-primary",type:"submit",disabled:!this.state.search},"Search")))))}}]),t}(n.Component);function b(e){var t=e.movieDetails,a=t.Title,n=t.Year,r=t.Poster;return a?o.a.createElement(o.a.Fragment,null,o.a.createElement("h5",{className:"text-center"},a),o.a.createElement("div",{className:"card mx-auto mt-3",style:{width:"15rem"}},o.a.createElement("img",{className:"card-img-top",height:"350",src:r,alt:"Movie poster"})),o.a.createElement("div",{className:"card-text text-center my-2"},"(",n,")")):null}var g=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.profileMovies,n=t.removeProfileMovies;if(!a.length)return o.a.createElement("h4",{className:"mt-5 text-center"},"No profileMovies in the profile yet!");var r=a.map(function(t){return o.a.createElement("div",{className:"col-md-3 mb-3 text-center",key:t.imdbID},o.a.createElement(b,{movieDetails:t}),o.a.createElement("button",{className:"btn btn-danger",onClick:n.bind(e,t)},"Remove"))});return o.a.createElement("div",{className:"row mx-0 mt-3"},r)}}]),t}(n.Component),M=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(o)))).setProfileMovies=function(e){a.props.setProfileMovies(e)},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.movieDetails;return o.a.createElement(o.a.Fragment,null,o.a.createElement(b,{movieDetails:e}),o.a.createElement("div",{className:"text-center"},o.a.createElement("button",{className:"btn btn-primary",type:"button",onClick:this.setProfileMovies.bind(this,e),disabled:!e.Title},"Add to profile")))}}]),t}(n.Component);function E(e){var t=e.setMovieDetails,a=e.movieDetails,n=e.setProfileMovies,r=e.profileMovies,i=e.removeProfileMovies;return o.a.createElement(p.a,null,o.a.createElement("nav",{className:"navbar navbar-expand navbar-dark bg-dark"},o.a.createElement(p.b,{className:"navbar-brand",to:"/"},"Movie DB"),o.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},o.a.createElement("span",{className:"navbar-toggler-icon"})),o.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},o.a.createElement("ul",{className:"navbar-nav mr-auto"},o.a.createElement("li",{className:"nav-item"},o.a.createElement(p.b,{className:"nav-link",to:"profile"},"My Profile"))))),o.a.createElement(f.c,null,o.a.createElement(f.a,{exact:!0,path:"/",render:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(h,{setMovieDetails:t}),o.a.createElement(M,{movieDetails:a,setProfileMovies:n}))}}),o.a.createElement(f.a,{path:"/profile"},o.a.createElement(g,{profileMovies:r,removeProfileMovies:i}))))}var D=a(55),y=a(52),O=a(53),N=a(54);function j(e){var t=e.isOpen,a=e.toggleModal,n=e.modalMsg;return o.a.createElement(D.a,{isOpen:t,toggle:a},o.a.createElement(y.a,null,n),o.a.createElement(O.a,null,o.a.createElement(N.a,{color:"primary",onClick:a},"Okay")))}var w=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(o)))).state={movieDetails:{},profileMovies:[],modal:!1,modalMsg:""},a.setMovieDetails=function(e){e.Title?a.setState({movieDetails:e}):a.setState({movieDetails:{},modalMsg:"Movie not found!",modal:!0})},a.setProfileMovies=function(e){if(a.checkIfDuplicateProfileMovie(e))a.setState(function(t){return{modalMsg:"".concat(e.Title," movie already present in the profile!"),modal:!t.modal}});else{var t=[].concat(Object(l.a)(a.state.profileMovies),[e]);a.setState(function(a){return{profileMovies:t,modalMsg:"".concat(e.Title," movie added to the profile!"),modal:!a.modal}})}},a.checkIfDuplicateProfileMovie=function(e){return a.state.profileMovies.find(function(t){return t.imdbID===e.imdbID})},a.removeProfileMovies=function(e){var t=a.state.profileMovies.filter(function(t){return t.imdbID!==e.imdbID});a.setState({profileMovies:t})},a.toggleModal=function(){a.setState(function(e){return{modal:!e.modal}})},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(E,{movieDetails:this.state.movieDetails,profileMovies:this.state.profileMovies,setMovieDetails:this.setMovieDetails,setProfileMovies:this.setProfileMovies,removeProfileMovies:this.removeProfileMovies}),o.a.createElement(j,{isOpen:this.state.modal,toggleModal:this.toggleModal,modalMsg:this.state.modalMsg}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(49);i.a.render(o.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()}).catch(function(e){console.error(e.message)})}},[[31,1,2]]]);
//# sourceMappingURL=main.fff64142.chunk.js.map